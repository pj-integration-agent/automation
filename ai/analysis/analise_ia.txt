## 1. Testes que falharam  
| ID do teste | Descri√ß√£o do teste | Data e hora | Resultado |
|-------------|--------------------|-------------|-----------|
| `Login inv√°lido falhou` | Teste que verifica a mensagem exibida quando o usu√°rio tenta fazer login com credenciais inv√°lidas. | 2025‚Äë11‚Äë05‚ÄØ16:37:45 | **Falhou** |
| `Usu√°rio deve atualizar telefone com campo vazio falhou` | Teste que garante que a aplica√ß√£o exibe um aviso quando o campo de telefone √© deixado em branco na tela de atualiza√ß√£o de perfil. | 2025‚Äë11‚Äë05‚ÄØ16:37:46 | **Falhou** |

---

## 2. Motivos detalhados de cada falha  

### 2.1 Teste ‚ÄúLogin inv√°lido falhou‚Äù
1. **O que o teste esperava**  
   ```js
   await expect(locator('.error')).toContainText(
     "An internal error has occurred and has been logged."
   );
   ```
2. **O que realmente aconteceu**  
   - O *locator* `'.error'` encontrou um elemento:  
     `<p class="error">The username and password could not be verified.</p>`
   - O texto encontrado **n√£o** cont√©m a substring esperada.  
   - O Playwright registrou: `unexpected value "The username and password could not be verified."`

3. **Causas prov√°veis**  
   - **Mensagem de erro diferente**: o backend foi configurado para retornar ‚ÄúThe username and password could not be verified.‚Äù em vez da mensagem ‚ÄúAn internal error has occurred and has been logged.‚Äù  
   - **Ambiente de teste**: o ambiente de staging/produ√ß√£o pode ter mensagens de erro diferentes (por exemplo, mensagens mais amig√°veis em staging e mensagens internas em produ√ß√£o).  
   - **Timing**: o elemento estava j√° presente quando o Playwright fez a verifica√ß√£o, ent√£o n√£o havia timeout, mas a mensagem n√£o era a esperada.

### 2.2 Teste ‚ÄúUsu√°rio deve atualizar telefone com campo vazio falhou‚Äù
1. **O que o teste esperava**  
   ```js
   await expect(locator('//*[@id="phone-error"]')).toContainText(
     "Phone is required."
   );
   ```
2. **O que realmente aconteceu**  
   - O Playwright tentou aguardar o elemento XPath `//*[@id="phone-error"]` durante 5‚ÄØs.  
   - **Elemento n√£o encontrado**: `Error: element(s) not found`.  
   - Portanto, a verifica√ß√£o n√£o p√¥de ser conclu√≠da.

3. **Causas prov√°veis**  
   - **Seletor errado**: o ID real pode n√£o ser `phone-error`. Talvez a aplica√ß√£o use `class="phone-error"` ou `data-test-id="phone-error"`.  
   - **Elemento din√¢mico**: o campo de erro pode ser renderizado apenas ap√≥s a tentativa de enviar o formul√°rio, e talvez o teste n√£o esteja aguardando corretamente o evento de submiss√£o.  
   - **Erro de escopo**: o elemento pode estar dentro de um modal ou iframe que precisa ser focado antes de procurar pelo seletor.  
   - **Erro de idioma**: a mensagem de erro pode estar em outra l√≠ngua (por ex., ‚ÄúTelefone √© obrigat√≥rio.‚Äù), ent√£o a string esperada est√° errada.

---

## 3. Sugest√µes de corre√ß√£o

### 3.1 Corrigir o teste de login
| Problema | Como corrigir |
|----------|---------------|
| Mensagem de erro diferente | Atualize a string esperada para corresponder √† mensagem real. Exemplo:<br>```await expect(locator('.error')).toContainText("The username and password could not be verified.");``` |
| Caso de teste deveria aceitar diferentes mensagens (produ√ß√£o vs staging) | Use *regex* ou verifique se a mensagem cont√©m qualquer uma das op√ß√µes:<br>```const errorTexts = [<br>  /An internal error has occurred and has been logged./,<br>  /The username and password could not be verified./<br>];<br>await expect(locator('.error')).toMatchText(errorTexts);``` |
| Melhorar a robustez da verifica√ß√£o | Troque `toContainText` por `toHaveText` ou `toHaveTextContaining` para garantir que a compara√ß√£o seja exata e n√£o dependa de espa√ßos extras. |
| Garantir que o erro realmente aparece | Adicione `await page.waitForSelector('.error', { state: 'visible' });` antes da expectativa. |

### 3.2 Corrigir o teste de telefone vazio
| Problema | Como corrigir |
|----------|---------------|
| Seletor XPath inv√°lido | Use um seletor CSS mais simples e confi√°vel, como `<p id="phone-error">` ou `<p class="phone-error">`. Exemplo:<br>```await expect(page.locator('#phone-error')).toContainText("Phone is required.");``` |
| Elemento n√£o renderizado no tempo de espera | Aumente o timeout ou espere explicitamente a submiss√£o:<br>```await Promise.all([<br>  page.click('button[type="submit"]'),<br>  page.waitForSelector('#phone-error', { state: 'visible', timeout: 10000 })<br>]);``` |
| Elemento dentro de modal ou iframe | Certifique-se de focar o contexto correto: <br>```const modal = page.frameLocator('#modal-id');<br>await expect(modal.locator('#phone-error')).toContainText("Phone is required.");``` |
| Mensagem de erro em outro idioma | Atualize a string esperada ou use regex para cobrir m√∫ltiplos idiomas:<br>```await expect(locator('#phone-error')).toMatchText(/Phone is required|Telefone √© obrigat√≥rio/);``` |
| Elemento oculto (ex.: `display:none`) | Use `state: 'attached'` em vez de `state: 'visible'` se o elemento existir mas n√£o estiver vis√≠vel. |
| Falta de submiss√£o do formul√°rio | Garanta que o teste realmente tente salvar o telefone vazio antes de esperar pela mensagem:<br>```await page.fill('#phone-input', '');<br>await page.click('button.update-phone');``` |

### 3.3 Boas pr√°ticas gerais

1. **Isolar dados**  
   - Use `test.describe.parallel` ou `test.beforeEach` para garantir que cada teste comece com o estado esperado (ex.: usu√°rio n√£o logado, telefone vazio, etc.).

2. **Utilizar `test.step`**  
   - Ajuda a identificar em qual passo o erro ocorre, facilitando debugging.

3. **Logs mais detalhados**  
   - Em caso de falha, imprima `await page.content()` ou `await page.screenshot({ path: 'error.png' })` para ter um snapshot da p√°gina.

4. **Verifica√ß√µes de ambiente**  
   - Se o teste for executado em m√∫ltiplos ambientes, use vari√°veis de configura√ß√£o (`process.env`) para escolher a mensagem esperada.

5. **Timeouts sens√≠veis**  
   - Evite valores fixos (5‚ÄØs). Use `expect.extend` com `timeout` din√¢mico ou `page.waitForTimeout`.

---

## Resumo

| Teste | Falhou por | Corre√ß√£o recomendada |
|-------|------------|----------------------|
| Login inv√°lido | Mensagem esperada n√£o corresponde √† real | Atualizar string esperada ou usar regex/varia‚Äëdificuldade |
| Usu√°rio deve atualizar telefone | Seletor incorreto/elemento n√£o encontrado | Ajustar seletor, garantir submiss√£o, usar espera expl√≠cita |

Aplicando essas corre√ß√µes, os testes dever√£o passar consistentemente e refletir corretamente o comportamento real da aplica√ß√£o. üöÄ