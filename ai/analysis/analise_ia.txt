## 1.  Testes que falharam  
| # | Nome do teste (descri√ß√£o) | Resultado |
|---|---------------------------|-----------|
| 1 | **Login inv√°lido falhou** | ‚ùå **Falhou** |
| 2 | **Usu√°rio deve atualizar telefone com campo vazio falhou** | ‚ùå **Falhou** |

---

## 2.  Motivo de cada falha  

### 2.1  ‚ÄúLogin inv√°lido falhou‚Äù
**Erro**  
```text
expect(locator('.error')).toContainText(expected) failed
Locator: locator('.error')
Expected substring: "An internal error has occurred and has been logged."
Received string:    "The username and password could not be verified."
```

- **O que aconteceu** ‚Äì O teste procurou o elemento `<p class="error">` e verificou se seu texto **inclu√≠a** a substring `"An internal error has occurred and has been logged."`.  
- **Resultado real** ‚Äì O texto encontrado foi `"The username and password could not be verified."`.  
- **Conclus√£o** ‚Äì A expectativa do teste est√° incorreta (ou o comportamento da aplica√ß√£o mudou).  
  - Pode ser que o teste tenha sido escrito para uma *mensagem de erro gen√©rica* (internal error) e depois a aplica√ß√£o passou a exibir uma mensagem mais espec√≠fica (username/password).  
  - Tamb√©m pode ser que o teste esteja usando a mensagem errada para o cen√°rio ‚Äúlogin inv√°lido‚Äù.

### 2.2  ‚ÄúUsu√°rio deve atualizar telefone com campo vazio falhou‚Äù
**Erro**  
```text
expect(locator('//*[@id="phone-error"]')).toContainText(expected) failed
Locator: locator('//*[@id="phone-error"]')
Expected substring: "Phone is required."
Error: element(s) not found
```

- **O que aconteceu** ‚Äì O Playwright tentou localizar o elemento que deveria conter a mensagem de erro (`//*[@id="phone-error"]`) por 5‚ÄØs, mas n√£o encontrou nenhum elemento.  
- **Poss√≠veis causas**  
  1. **ID errado** ‚Äì O elemento real pode ter outro id (ex.: `id="phone-error-msg"`, `class="phone-error"`).  
  2. **Erro n√£o gerado** ‚Äì O formul√°rio pode n√£o ter disparado a valida√ß√£o porque o campo vazio n√£o foi enviado ou a l√≥gica de valida√ß√£o est√° em outro lugar (ex.: valida√ß√£o client‚Äëside vs server‚Äëside).  
  3. **Renderiza√ß√£o tardia** ‚Äì O elemento aparece depois de um delay maior que 5‚ÄØs (ex.: ap√≥s uma requisi√ß√£o Ajax).  
  4. **Elemento invis√≠vel** ‚Äì O elemento pode estar no DOM, mas com `display:none;` ou `visibility:hidden;` e o Playwright, por padr√£o, n√£o aceita elementos invis√≠veis em `toContainText`.  

---

## 3.  Sugest√µes de corre√ß√£o  

| # | Problema | Como corrigir | Coment√°rio |
|---|----------|---------------|------------|
| 1 | **Mensagem esperada incorreta** | ‚Ä¢ Atualizar a string de expectativa para o texto que realmente aparece: `"The username and password could not be verified."`. <br>‚Ä¢ Se quiser aceitar m√∫ltiplas mensagens, use `<expect(locator('.error')).toHaveText(/username and password|internal error/)>`. | Assim o teste passa mesmo se a aplica√ß√£o mudar a mensagem, mas continua validando que alguma mensagem de erro √© exibida. |
| 2 | **Elementos n√£o encontrados por ID** | ‚Ä¢ Verificar o HTML real na p√°gina de erro de telefone. <br>‚Ä¢ Se o id for diferente, alterar o locator: `locator('#phone-error-msg')`, `locator('.phone-error')` ou XPath que corresponda. <br>‚Ä¢ Se a mensagem for exibida em outro lugar (ex.: dentro de `<span>` ou `<div>`), atualizar o selector. | Use `page.locator` em vez de `page.$eval` para manter a esperada de timeout autom√°tica. |
| 3 | **Valida√ß√£o n√£o disparada** | ‚Ä¢ Garantir que o teste realmente submete o formul√°rio (ex.: `await page.click('button#update-phone')`). <br>‚Ä¢ Se a valida√ß√£o for client‚Äëside, disparar `blur()` no campo de telefone vazio: `await page.focus('#phone'); await page.keyboard.press('Tab');`. | Isso for√ßa a l√≥gica de valida√ß√£o antes de checar o erro. |
| 4 | **Timeout de 5‚ÄØs muito curto** | ‚Ä¢ Aumentar o timeout na expectativa: `await expect(locator).toContainText("Phone is required.", { timeout: 8000 });`. <br>‚Ä¢ Ou usar `await locator.waitFor({ state: 'visible' });` antes de chamar `toContainText`. | Se o componente renderizar depois de uma requisi√ß√£o, um tempo extra evita falhas flutuantes. |
| 5 | **Elemento invis√≠vel** | ‚Ä¢ Verificar se o elemento possui `visibility: hidden` ou `display:none`. <br>‚Ä¢ Se for invis√≠vel intencionalmente, usar `await expect(locator).toHaveText("Phone is required.", { visible: false });` ou remover a restri√ß√£o de visibilidade. | Isso garante que o teste n√£o falhe por causa de estilo CSS. |
| 6 | **Uso de XPath** | ‚Ä¢ Preferir seletores CSS quando poss√≠vel: `locator('[id="phone-error"]')`. <br>‚Ä¢ Se XPath for inevit√°vel, garantir que ele seja completo e n√£o dependa de atributos que podem mudar. | CSS √© mais leg√≠vel e menos propenso a quebrar quando o DOM muda. |

---

## 4.  Resumo r√°pido para o time

1. **Login inv√°lido falhou**  
   - **Erro**: texto esperado diferente do real.  
   - **Corre√ß√£o**: alinhar a expectativa ao texto real ou tornar a expectativa flex√≠vel (regex).  

2. **Usu√°rio deve atualizar telefone com campo vazio falhou**  
   - **Erro**: elemento n√£o encontrado / ID errado / valida√ß√£o n√£o disparada.  
   - **Corre√ß√£o**: validar o id real, disparar a valida√ß√£o adequadamente, aumentar timeout e garantir visibilidade.  

3. **Boas pr√°ticas**  
   - Usar `await page.locator('...').waitFor({ state: 'visible' })` antes de `expect`.  
   - Quando o texto pode variar, usar regex ou `toHaveText` com `ignoreCase: true`.  
   - Manter os selectors claros e atualizados, evitando XPath quando poss√≠vel.  

Com essas corre√ß√µes os testes dever√£o passar de forma confi√°vel e refletir corretamente o comportamento da aplica√ß√£o. üöÄ